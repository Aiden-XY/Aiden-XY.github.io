<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>xy</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2020-02-21T08:48:07.582Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>John Doe</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Hello World</title>
    <link href="http://yoursite.com/2020/02/21/hello-world/"/>
    <id>http://yoursite.com/2020/02/21/hello-world/</id>
    <published>2020-02-21T08:48:07.582Z</published>
    <updated>2020-02-21T08:48:07.582Z</updated>
    
    <summary type="html">
    
      
      
        
        
          &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a
        
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Spring AOP</title>
    <link href="http://yoursite.com/2019/02/19/Spring%20AOP/"/>
    <id>http://yoursite.com/2019/02/19/Spring%20AOP/</id>
    <published>2019-02-19T04:40:58.000Z</published>
    <updated>2020-02-23T10:02:35.367Z</updated>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Spring-Aop是什么&quot;&gt;&lt;a href=&quot;#Spring-Aop是什么&quot; class=&quot;headerlink&quot; title=&quot;Spring Aop是什么&quot;&gt;&lt;/a&gt;Spring Aop是什么&lt;/h1&gt;&lt;p&gt;面向切面编程（AOP）和面向对象编程（OOP）类似，也是一种编程模式。Spring AOP 是基于 AOP 编程模式的一个框架，它的使用有效减少了系统间的重复代码，达到了模块间的松耦合目的。&lt;/p&gt;
&lt;p&gt;AOP 的全称是“Aspect Oriented Programming”，即面向切面编程，它将业务逻辑的各个部分进行隔离，使开发人员在编写业务逻辑时可以专心于核心业务，从而提高了开发效率。&lt;/p&gt;
&lt;p&gt;AOP 采取横向抽取机制，取代了传统纵向继承体系的重复性代码，其应用主要体现在事务处理、日志管理、权限控制、异常处理等方面。&lt;/p&gt;
&lt;p&gt;为了更好地理解 AOP，就需要对 AOP 的相关术语有一些了解，这些专业术语主要包含 Joinpoint、Pointcut、Advice、Target、Weaving、Proxy 和 Aspect，它们的含义如下表所示。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;名称&lt;/th&gt;
&lt;th&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;Joinpoint（连接点）&lt;/td&gt;
&lt;td&gt;指那些被拦截到的点，在 Spring 中，可以被动态代理拦截目标类的方法。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Pointcut（切入点）&lt;/td&gt;
&lt;td&gt;指要对哪些 Joinpoint 进行拦截，即被拦截的连接点。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Advice（通知）&lt;/td&gt;
&lt;td&gt;指拦截到 Joinpoint 之后要做的事情，即对切入点增强的内容。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Target（目标）&lt;/td&gt;
&lt;td&gt;指代理的目标对象。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Weaving（植入）&lt;/td&gt;
&lt;td&gt;指把增强代码应用到目标上，生成代理对象的过程。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Proxy（代理）&lt;/td&gt;
&lt;td&gt;指生成的代理对象。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Aspect（切面）&lt;/td&gt;
&lt;td&gt;切入点和通知的结合。&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;h2 id=&quot;基于XML配置&quot;&gt;&lt;a href=&quot;#基于XML配置&quot; class=&quot;headerlink&quot; title=&quot;基于XML配置&quot;&gt;&lt;/a&gt;基于XML配置&lt;/h2&gt;&lt;p&gt;导入aspectjweaver坐标和spring-aop，因为导入spring-context坐标时，已经导入aop，所以不需要再导入&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;groupId&amp;gt;org.aspectj&amp;lt;&amp;#x2F;groupId&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;artifactId&amp;gt;aspectjweaver&amp;lt;&amp;#x2F;artifactId&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;version&amp;gt;1.9.5&amp;lt;&amp;#x2F;version&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;&amp;#x2F;dependency&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;sop:config&amp;gt;&lt;/code&gt; AOP配置&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;aop:aspect&amp;gt;&lt;/code&gt;配置切面  位于AOP配置里面 &lt;code&gt;id&lt;/code&gt;给切面提供一个唯一标识，&lt;code&gt;ref&lt;/code&gt;指定通知类&lt;br&gt;以下标签都在&lt;code&gt;&amp;lt;aop:aspect&amp;gt;里面&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;aop:pointcut&amp;gt;&lt;/code&gt; 切入点通过&lt;code&gt;expression&lt;/code&gt;属性来告诉要增强哪些方法，而&lt;code&gt;expression&lt;/code&gt;里使用的时切入表达式&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;aop:before&amp;gt;&lt;/code&gt; 表示前置通知&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;aop:after-returning&amp;gt;&lt;/code&gt; 后置通知&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;aop:after-throwing&amp;gt;&lt;/code&gt; 抛出体重&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;aop:after&amp;gt;&lt;/code&gt; 最终通知&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;aop:around&amp;gt;&lt;/code&gt; 环绕通知&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
      <category term="Spring" scheme="http://yoursite.com/categories/Spring/"/>
    
    
      <category term="学习" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>Spring Bean 配置</title>
    <link href="http://yoursite.com/2019/02/19/Spring%20Bean%E9%85%8D%E7%BD%AE/"/>
    <id>http://yoursite.com/2019/02/19/Spring%20Bean%E9%85%8D%E7%BD%AE/</id>
    <published>2019-02-19T04:40:58.000Z</published>
    <updated>2020-02-23T10:02:42.976Z</updated>
    
    <summary type="html">
    
      &lt;h4 id=&quot;Bean配置的示例代码&quot;&gt;&lt;a href=&quot;#Bean配置的示例代码&quot; class=&quot;headerlink&quot; title=&quot;Bean配置的示例代码&quot;&gt;&lt;/a&gt;Bean配置的示例代码&lt;/h4&gt;&lt;p&gt;JavaBean 是一种JAVA语言写成的可重用组件。为写成JavaBean，类必须是具体的和公共的，并且具有无参数的构造器。&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;?xml version&amp;#x3D;&amp;quot;1.0&amp;quot; encoding&amp;#x3D;&amp;quot;UTF-8&amp;quot;?&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;beans xmlns&amp;#x3D;&amp;quot;http:&amp;#x2F;&amp;#x2F;www.springframework.org&amp;#x2F;schema&amp;#x2F;beans&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    xmlns:xsi&amp;#x3D;&amp;quot;http:&amp;#x2F;&amp;#x2F;www.w3.org&amp;#x2F;2001&amp;#x2F;XMLSchema-instance&amp;quot; xmlns:p&amp;#x3D;&amp;quot;http:&amp;#x2F;&amp;#x2F;www.springframework.org&amp;#x2F;schema&amp;#x2F;p&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    xsi:schemaLocation&amp;#x3D;&amp;quot;http:&amp;#x2F;&amp;#x2F;www.springframework.org&amp;#x2F;schema&amp;#x2F;beans&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    http:&amp;#x2F;&amp;#x2F;www.springframework.org&amp;#x2F;schema&amp;#x2F;beans&amp;#x2F;spring-beans-3.2.xsd&amp;quot;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;!-- 使用id属性定义person1，其对应的实现类为com.mengma.person1 --&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;bean id&amp;#x3D;&amp;quot;person1&amp;quot; class&amp;#x3D;&amp;quot;com.mengma.damain.Person1&amp;quot; &amp;#x2F;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;!--使用name属性定义person2，其对应的实现类为com.mengma.domain.Person2--&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;bean name&amp;#x3D;&amp;quot;Person2&amp;quot; class&amp;#x3D;&amp;quot;com.mengma.domain.Person2&amp;quot;&amp;#x2F;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;&amp;#x2F;beans&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h4 id=&quot;Bean-属性&quot;&gt;&lt;a href=&quot;#Bean-属性&quot; class=&quot;headerlink&quot; title=&quot;Bean 属性&quot;&gt;&lt;/a&gt;Bean 属性&lt;/h4&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;属性&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;class&lt;/td&gt;
&lt;td&gt;指定bean类的全限定类名&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;name/id&lt;/td&gt;
&lt;td&gt;bean标识符&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;scope&lt;/td&gt;
&lt;td&gt;用来指定特定bean定义创建的对象的作用域&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;constructor-arg&lt;/td&gt;
&lt;td&gt;通过构造函数注入&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;property&lt;/td&gt;
&lt;td&gt;通过setter注入&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;autowiring mode&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lazy-initalization mode&lt;/td&gt;
&lt;td&gt;延迟初始化&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;init-method&lt;/td&gt;
&lt;td&gt;指定初始化方法&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;destroy-method&lt;/td&gt;
&lt;td&gt;指定bean被销毁时执行方法。&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;h4 id=&quot;Spring-Bean作用域&quot;&gt;&lt;a href=&quot;#Spring-Bean作用域&quot; class=&quot;headerlink&quot; title=&quot;Spring Bean作用域&quot;&gt;&lt;/a&gt;Spring Bean作用域&lt;/h4&gt;&lt;p&gt;scope值：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;signleton&lt;/code&gt; Bean实例以单例模式存在（创建容器时就会创建单例Bean对象），默认&lt;/li&gt;
&lt;li&gt;&lt;code&gt;prototype&lt;/code&gt; Bean实例以多例，并且在获取对象是创建&lt;/li&gt;
&lt;li&gt;&lt;code&gt;request&lt;/code&gt; 每次HTTP请求都会常见一个新的Bean，仅适用于web项目&lt;/li&gt;
&lt;li&gt;&lt;code&gt;session&lt;/code&gt; 同一个HTTP Sesssion共享一个Bean，不同Session使用不同的Bean。仅适用于web项目 * &lt;code&gt;golbal-session&lt;/code&gt; 作用域集群环境的会话范围（全局会话范围），当不是集群环境时，它既是session&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;Spring-Bean-生命周期&quot;&gt;&lt;a href=&quot;#Spring-Bean-生命周期&quot; class=&quot;headerlink&quot; title=&quot;Spring Bean 生命周期&quot;&gt;&lt;/a&gt;Spring Bean 生命周期&lt;/h4&gt;&lt;p&gt;通过使用&lt;code&gt;init-method&lt;/code&gt;和&lt;code&gt;destroy-method&lt;/code&gt;属性来指定bean对象中的初始和销毁方法&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;bean name&amp;#x3D;&amp;quot;TestService&amp;quot; init-method&amp;#x3D;&amp;quot;Init&amp;quot; destroy-method&amp;#x3D;&amp;quot;Destroy&amp;quot; class&amp;#x3D;&amp;quot;cn.test.service.impl.TestServiceImpl&amp;quot;&amp;#x2F;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;单例对象&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;出生：当容器创建对象时出生&lt;/li&gt;
&lt;li&gt;活着：只要容器还在，对象一直活着&lt;/li&gt;
&lt;li&gt;死亡：容器销毁，对象消亡&lt;/li&gt;
&lt;li&gt;总结：单例对象的生命周期和容器相同  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;多例对象&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;出生：当我们使用对象spring框架为我们创建&lt;/li&gt;
&lt;li&gt;活着：当对象只要是在使用过程中就一直或者&lt;/li&gt;
&lt;li&gt;死亡：当对象长时间不用，且没有别的对象引用时，由Java的垃圾回收器回收&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;Spring-依赖注入&quot;&gt;&lt;a href=&quot;#Spring-依赖注入&quot; class=&quot;headerlink&quot; title=&quot;Spring 依赖注入&quot;&gt;&lt;/a&gt;Spring 依赖注入&lt;/h4&gt;
    
    </summary>
    
    
      <category term="Spring" scheme="http://yoursite.com/categories/Spring/"/>
    
    
      <category term="学习" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>SpringBoot Thymeleaf</title>
    <link href="http://yoursite.com/2019/02/19/Spring%20Boot%20Thymeleaf/"/>
    <id>http://yoursite.com/2019/02/19/Spring%20Boot%20Thymeleaf/</id>
    <published>2019-02-19T04:40:58.000Z</published>
    <updated>2020-02-23T10:03:38.870Z</updated>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Thymeleaf&quot;&gt;&lt;a href=&quot;#Thymeleaf&quot; class=&quot;headerlink&quot; title=&quot;Thymeleaf&quot;&gt;&lt;/a&gt;Thymeleaf&lt;/h2&gt;&lt;p&gt;SpringBoot推荐的模板引擎；&lt;/p&gt;
&lt;p&gt;语法更简单，功能更强大；&lt;/p&gt;
&lt;h3 id=&quot;1、引入thymeleaf；&quot;&gt;&lt;a href=&quot;#1、引入thymeleaf；&quot; class=&quot;headerlink&quot; title=&quot;1、引入thymeleaf；&quot;&gt;&lt;/a&gt;1、引入thymeleaf；&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;&amp;#x2F;groupId&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;artifactId&amp;gt;spring-boot-starter-thymeleaf&amp;lt;&amp;#x2F;artifactId&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;&amp;#x2F;dependency&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;最新版的spring boot 会自动设置好最新的版本，如果需要以前的的版本则可以&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt; &amp;lt;thymeleaf.version&amp;gt;3.0.11.RELEASE&amp;lt;&amp;#x2F;thymeleaf.version&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;thymeleaf-layout-dialect.version&amp;gt;2.4.1&amp;lt;&amp;#x2F;thymeleaf-layout-dialect.version&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&quot;2、Thymeleaf使用&quot;&gt;&lt;a href=&quot;#2、Thymeleaf使用&quot; class=&quot;headerlink&quot; title=&quot;2、Thymeleaf使用&quot;&gt;&lt;/a&gt;2、Thymeleaf使用&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;@ConfigurationProperties(prefix &amp;#x3D; &amp;quot;spring.thymeleaf&amp;quot;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;public class ThymeleafProperties &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	private static final Charset DEFAULT_ENCODING &amp;#x3D; Charset.forName(&amp;quot;UTF-8&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	private static final MimeType DEFAULT_CONTENT_TYPE &amp;#x3D; MimeType.valueOf(&amp;quot;text&amp;#x2F;html&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	public static final String DEFAULT_PREFIX &amp;#x3D; &amp;quot;classpath:&amp;#x2F;templates&amp;#x2F;&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	public static final String DEFAULT_SUFFIX &amp;#x3D; &amp;quot;.html&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  	&amp;#x2F;&amp;#x2F;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;只要我们把HTML页面放在classpath:/templates/，thymeleaf就能自动渲染；&lt;/p&gt;
&lt;p&gt;使用：&lt;/p&gt;
    
    </summary>
    
    
      <category term="Spring Boot" scheme="http://yoursite.com/categories/Spring-Boot/"/>
    
    
      <category term="学习" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="java" scheme="http://yoursite.com/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>Dao冗余代码问题</title>
    <link href="http://yoursite.com/2019/02/19/Dao%E5%86%97%E4%BD%99%E4%BB%A3%E7%A0%81%E9%97%AE%E9%A2%98/"/>
    <id>http://yoursite.com/2019/02/19/Dao%E5%86%97%E4%BD%99%E4%BB%A3%E7%A0%81%E9%97%AE%E9%A2%98/</id>
    <published>2019-02-19T04:40:58.000Z</published>
    <updated>2020-02-23T10:02:00.568Z</updated>
    
    <summary type="html">
    
      &lt;p&gt;我们已经学会了jdbcTemplate，但是每个Dao类中都少不了下面这几句代码&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;private JdbcTemplate jdbcTemplate;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;public void setJdbcTemplate(JdbcTemplate jdbcTemplate) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    this.jdbcTemplate &amp;#x3D; jdbcTemplate;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;而为了使代码更简洁，我可可以使用继承父类的方式解决代码冗余&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x2F;**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * Dao层的父类，负责提供jdbcTemplate对象&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; *&amp;#x2F;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;public class JdbcSuperDao &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    private JdbcTemplate jdbcTemplate;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    public JdbcTemplate getJdbcTemplate() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        return jdbcTemplate;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    public void setDataSource(DataSource dataSource)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        if(this.jdbcTemplate &amp;#x3D;&amp;#x3D; null)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            this.jdbcTemplate &amp;#x3D; createJdbcTemplate();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        this.jdbcTemplate.setDataSource(dataSource);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    private JdbcTemplate createJdbcTemplate()&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        return new JdbcTemplate();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Spring中其实也提供了这样的一个用来让Dao层继承的父类&lt;br&gt;==但是由于无法修改源码的原因，无法再父类上添加注解，也就导致了不能使用注解方式的Ioc容器==&lt;/p&gt;
    
    </summary>
    
    
      <category term="Spring" scheme="http://yoursite.com/categories/Spring/"/>
    
    
      <category term="学习" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>SpringBoot Web</title>
    <link href="http://yoursite.com/2019/02/19/Spring%20Boot%20Web/"/>
    <id>http://yoursite.com/2019/02/19/Spring%20Boot%20Web/</id>
    <published>2019-02-19T04:40:58.000Z</published>
    <updated>2020-02-23T10:03:47.381Z</updated>
    
    <summary type="html">
    
      &lt;h2 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;headerlink&quot; title=&quot;简介&quot;&gt;&lt;/a&gt;简介&lt;/h2&gt;&lt;p&gt;使用SpringBoot&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;创建SpringBoot应用，选中我们需要的模块&lt;/li&gt;
&lt;li&gt;SpringBoot已经默认将这些场景配置好了，只需要咋i配置文件中指定少量排至就可以运行起来&lt;/li&gt;
&lt;li&gt;自己编写业务代码&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;自动配置原理&quot;&gt;&lt;a href=&quot;#自动配置原理&quot; class=&quot;headerlink&quot; title=&quot;自动配置原理&quot;&gt;&lt;/a&gt;自动配置原理&lt;/h4&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;xxxxAutoCOnfiguration:帮我们给容器中自动配置组件；&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;xxxxProperties:配置类来封装配置文件的内容&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&quot;SpringBoot对静态资源的映射规则&quot;&gt;&lt;a href=&quot;#SpringBoot对静态资源的映射规则&quot; class=&quot;headerlink&quot; title=&quot;SpringBoot对静态资源的映射规则&quot;&gt;&lt;/a&gt;SpringBoot对静态资源的映射规则&lt;/h2&gt;&lt;h5 id=&quot;1-所有-webjars-，都去-classpath-META-INF-resources-webjars-找资源；&quot;&gt;&lt;a href=&quot;#1-所有-webjars-，都去-classpath-META-INF-resources-webjars-找资源；&quot; class=&quot;headerlink&quot; title=&quot;1. 所有 /webjars/** ，都去 classpath:/META-INF/resources/webjars/ 找资源；&quot;&gt;&lt;/a&gt;1. 所有 /webjars/** ，都去 classpath:/META-INF/resources/webjars/ 找资源；&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;webjars：以jar包的方式引入静态资源； &lt;a href=&quot;https://www.webjars.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.webjars.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;访问的时候直接写&lt;code&gt;/包名/版本号/文件&lt;/code&gt;即可&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;groupId&amp;gt;org.webjars&amp;lt;&amp;#x2F;groupId&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;artifactId&amp;gt;jquery&amp;lt;&amp;#x2F;artifactId&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;version&amp;gt;2.2.4&amp;lt;&amp;#x2F;version&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;&amp;#x2F;dependency&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
访问路径&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;http:&amp;#x2F;&amp;#x2F;localhost:8080&amp;#x2F;webjars&amp;#x2F;jquery&amp;#x2F;2.2.4&amp;#x2F;jquery.js&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;


&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&quot;2-“-”-访问当前项目的任何资源，都去（静态资源的文件夹）找映射&quot;&gt;&lt;a href=&quot;#2-“-”-访问当前项目的任何资源，都去（静态资源的文件夹）找映射&quot; class=&quot;headerlink&quot; title=&quot;2. “/**” 访问当前项目的任何资源，都去（静态资源的文件夹）找映射&quot;&gt;&lt;/a&gt;2. “/**” 访问当前项目的任何资源，都去（静态资源的文件夹）找映射&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;classpath:/META-INF/resources/&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;classpath:/resources/&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;classpath:/static/&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;classpath:/public/&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;private static final String[] CLASSPATH_RESOURCE_LOCATIONS &amp;#x3D; new String[]&amp;#123;&amp;quot;classpath:&amp;#x2F;META-INF&amp;#x2F;resources&amp;#x2F;&amp;quot;, &amp;quot;classpath:&amp;#x2F;resources&amp;#x2F;&amp;quot;, &amp;quot;classpath:&amp;#x2F;static&amp;#x2F;&amp;quot;, &amp;quot;classpath:&amp;#x2F;public&amp;#x2F;&amp;quot;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="Spring Boot" scheme="http://yoursite.com/categories/Spring-Boot/"/>
    
    
      <category term="学习" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="java" scheme="http://yoursite.com/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>SpringBoot 启动配置原理</title>
    <link href="http://yoursite.com/2019/02/19/Spring%20Boot%20%E5%90%AF%E7%94%A8%E9%85%8D%E7%BD%AE%E5%8E%9F%E7%90%86/"/>
    <id>http://yoursite.com/2019/02/19/Spring%20Boot%20%E5%90%AF%E7%94%A8%E9%85%8D%E7%BD%AE%E5%8E%9F%E7%90%86/</id>
    <published>2019-02-19T04:40:58.000Z</published>
    <updated>2020-02-23T10:03:15.546Z</updated>
    
    <summary type="html">
    
      &lt;h1 id=&quot;启动配置原理&quot;&gt;&lt;a href=&quot;#启动配置原理&quot; class=&quot;headerlink&quot; title=&quot;启动配置原理&quot;&gt;&lt;/a&gt;启动配置原理&lt;/h1&gt;&lt;p&gt;几个重要的事件回调机制&lt;/p&gt;
&lt;p&gt;配置在META-INF/spring.factories&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ApplicationContextInitializer&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;SpringApplicationRunListener&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;只需要放在ioc容器中&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ApplicationRunner&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;CommandLineRunner&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;1、创建SpringApplication对象&quot;&gt;&lt;a href=&quot;#1、创建SpringApplication对象&quot; class=&quot;headerlink&quot; title=&quot;1、创建SpringApplication对象&quot;&gt;&lt;/a&gt;&lt;strong&gt;1、创建SpringApplication对象&lt;/strong&gt;&lt;/h2&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;((ResourceLoader)&lt;span class=&quot;keyword&quot;&gt;null&lt;/span&gt;, primarySources);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SpringApplication&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(ResourceLoader resourceLoader, Class&amp;lt;?&amp;gt;... primarySources)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//保存主配置类&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.primarySources = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; LinkedHashSet(Arrays.asList(primarySources));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//判断当前是否一个web应用&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.webApplicationType = WebApplicationType.deduceFromClasspath();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//从类路径下找到META-INF/spring.factories配置的所有ApplicationContextInitializer；然后保存起来&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.setInitializers(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.getSpringFactoriesInstances(ApplicationContextInitializer&lt;span class=&quot;class&quot;&gt;.&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;))&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//从类路径下找到ETA-INF/spring.factories配置的所有ApplicationListener&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.setListeners(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.getSpringFactoriesInstances(ApplicationListener&lt;span class=&quot;class&quot;&gt;.&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;))&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//从多个配置类中找到有main方法的主配置类&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.mainApplicationClass = &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.deduceMainApplicationClass();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="Spring Boot" scheme="http://yoursite.com/categories/Spring-Boot/"/>
    
    
      <category term="学习" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="java" scheme="http://yoursite.com/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>SpringBoot 配置嵌入式Servlet容器</title>
    <link href="http://yoursite.com/2019/02/19/Spring%20Boot%20%E5%B5%8C%E5%85%A5%E5%BC%8FServlet/"/>
    <id>http://yoursite.com/2019/02/19/Spring%20Boot%20%E5%B5%8C%E5%85%A5%E5%BC%8FServlet/</id>
    <published>2019-02-19T04:40:58.000Z</published>
    <updated>2020-02-23T10:03:23.382Z</updated>
    
    <summary type="html">
    
      &lt;h2 id=&quot;配置嵌入式Servlet容器&quot;&gt;&lt;a href=&quot;#配置嵌入式Servlet容器&quot; class=&quot;headerlink&quot; title=&quot;配置嵌入式Servlet容器&quot;&gt;&lt;/a&gt;配置嵌入式Servlet容器&lt;/h2&gt;&lt;p&gt;SpringBoot默认使用Tomcat作为嵌入式的Servlet容器；&lt;/p&gt;
&lt;h3 id=&quot;1）、如何定制和修改Servlet容器的相关配置；&quot;&gt;&lt;a href=&quot;#1）、如何定制和修改Servlet容器的相关配置；&quot; class=&quot;headerlink&quot; title=&quot;1）、如何定制和修改Servlet容器的相关配置；&quot;&gt;&lt;/a&gt;1）、如何定制和修改Servlet容器的相关配置；&lt;/h3&gt;&lt;p&gt;1、修改和server有关的配置（ServerProperties)&lt;/p&gt;
&lt;figure class=&quot;highlight properties&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;server.port&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;8081&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;server.context-path&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;/crud&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;server.tomcat.uri-encoding&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;UTF-8&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;//通用的Servlet容器设置&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;server.xxx&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;//Tomcat的设置&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;server.tomcat.xxx&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;2、编写一个&lt;del&gt;EmbeddedServletContainerCustomizer&lt;/del&gt;，2.0以后改为&lt;code&gt;WebServerFactoryCustomizer&lt;/code&gt; : 嵌入式的Servlet容器的定制器；来修改Servlet容器的配置&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;@Bean&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;public WebServerFactoryCustomizer webServerFactoryCustomizer()&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        return new WebServerFactoryCustomizer&amp;lt;ConfigurableWebServerFactory&amp;gt;() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#x2F;&amp;#x2F;定制嵌入式的Servlet容器相关的规则&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            @Override&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            public void customize(ConfigurableWebServerFactory factory) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                factory.setPort(8002);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="Spring Boot" scheme="http://yoursite.com/categories/Spring-Boot/"/>
    
    
      <category term="学习" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="java" scheme="http://yoursite.com/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>SpringBoot与数据访问</title>
    <link href="http://yoursite.com/2019/02/19/Spring%20Boot%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BF%E9%97%AE/"/>
    <id>http://yoursite.com/2019/02/19/Spring%20Boot%20%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BF%E9%97%AE/</id>
    <published>2019-02-19T04:40:58.000Z</published>
    <updated>2020-02-23T10:03:29.724Z</updated>
    
    <summary type="html">
    
      &lt;h1 id=&quot;SpringBoot与数据访问&quot;&gt;&lt;a href=&quot;#SpringBoot与数据访问&quot; class=&quot;headerlink&quot; title=&quot;SpringBoot与数据访问&quot;&gt;&lt;/a&gt;SpringBoot与数据访问&lt;/h1&gt;&lt;h2 id=&quot;1、JDBC&quot;&gt;&lt;a href=&quot;#1、JDBC&quot; class=&quot;headerlink&quot; title=&quot;1、JDBC&quot;&gt;&lt;/a&gt;1、JDBC&lt;/h2&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;org.springframework.boot&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;spring-boot-starter-data-jdbc&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;mysql&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;groupId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;mysql-connector-java&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;dependency&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight yaml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;spring:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attr&quot;&gt;datasource:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;driver-class-name:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;url:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;jdbc:mysql://localhost:3306/javatest?serverTimezone=UTC&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;username:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;root&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;password:&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;123456&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;效果：&lt;/p&gt;
&lt;p&gt;​    2.x版本默认是用HikariDataSource作为数据源；&lt;/p&gt;
&lt;p&gt;​    数据源的相关配置都在DataSourceProperties里面；&lt;/p&gt;
&lt;p&gt;自动配置原理：&lt;/p&gt;
&lt;p&gt;org.springframework.boot.autoconfigure.jdbc：&lt;/p&gt;
&lt;p&gt;1、参考DataSourceConfiguration，根据配置创建数据源，默认使用HikariDataSource数据源；可以使用spring.datasource.type指定自定义的数据源类型；&lt;/p&gt;
&lt;p&gt;2、SpringBoot默认可以支持；&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;org.apache.tomcat.jdbc.pool.DataSource、HikariDataSource、BasicDataSource、&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;3、自定义数据源类型&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; * Generic DataSource configuration.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Configuration&lt;/span&gt;(proxyBeanMethods = &lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@ConditionalOnMissingBean&lt;/span&gt;(DataSource&lt;span class=&quot;class&quot;&gt;.&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;@&lt;span class=&quot;title&quot;&gt;ConditionalOnProperty&lt;/span&gt;(&lt;span class=&quot;title&quot;&gt;name&lt;/span&gt; &lt;/span&gt;= &lt;span class=&quot;string&quot;&gt;&quot;spring.datasource.type&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Generic&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;meta&quot;&gt;@Bean&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;function&quot;&gt;DataSource &lt;span class=&quot;title&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(DataSourceProperties properties)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; properties.initializeDataSourceBuilder().build();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;4、&lt;strong&gt;DataSourceInitializer：ApplicationListener&lt;/strong&gt;；&lt;/p&gt;
&lt;p&gt;创建时执行数据表创建文件&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;boolean createSchema() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	List&amp;lt;Resource&amp;gt; scripts &amp;#x3D; getScripts(&amp;quot;spring.datasource.schema&amp;quot;, this.properties.getSchema(), &amp;quot;schema&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	if (!scripts.isEmpty()) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		if (!isEnabled()) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			logger.debug(&amp;quot;Initialization disabled (not running DDL scripts)&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			return false;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		String username &amp;#x3D; this.properties.getSchemaUsername();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		String password &amp;#x3D; this.properties.getSchemaPassword();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		runScripts(scripts, username, password);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	return !scripts.isEmpty();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="Spring Boot" scheme="http://yoursite.com/categories/Spring-Boot/"/>
    
    
      <category term="学习" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="java" scheme="http://yoursite.com/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>Spring IOC容器</title>
    <link href="http://yoursite.com/2019/02/19/Spring%20IoC%20%E5%AE%B9%E5%99%A8/"/>
    <id>http://yoursite.com/2019/02/19/Spring%20IoC%20%E5%AE%B9%E5%99%A8/</id>
    <published>2019-02-19T04:40:58.000Z</published>
    <updated>2020-02-23T09:48:00.258Z</updated>
    
    <summary type="html">
    
      
      
        
        
          &lt;h2 id=&quot;BeanFactory容器&quot;&gt;&lt;a href=&quot;#BeanFactory容器&quot; class=&quot;headerlink&quot;
        
      
    
    </summary>
    
    
      <category term="Spring" scheme="http://yoursite.com/categories/Spring/"/>
    
    
      <category term="学习" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="java" scheme="http://yoursite.com/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>Spring jdbcTemplate</title>
    <link href="http://yoursite.com/2019/02/19/Spring%20jdbcTemplate/"/>
    <id>http://yoursite.com/2019/02/19/Spring%20jdbcTemplate/</id>
    <published>2019-02-19T04:40:58.000Z</published>
    <updated>2020-02-23T10:03:57.593Z</updated>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Spring-JDBCTemplate&quot;&gt;&lt;a href=&quot;#Spring-JDBCTemplate&quot; class=&quot;headerlink&quot; title=&quot;Spring JDBCTemplate&quot;&gt;&lt;/a&gt;Spring JDBCTemplate&lt;/h2&gt;&lt;p&gt;Spring 框架针对数据库开发中的应用提供了 JDBCTemplate 类，该类是 Spring 对 JDBC 支持的核心，它提供了所有对数据库操作功能的支持。  &lt;/p&gt;
&lt;p&gt;Spring 框架提供的JDBC支持主要由四个包组成，分别是 core（核心包）、object（对象包）、dataSource（数据源包）和 support（支持包），org.springframework.jdbc.core.JdbcTemplate 类就包含在核心包中。作为 Spring JDBC 的核心，JdbcTemplate 类中包含了所有数据库操作的基本方法。&lt;/p&gt;
&lt;h4 id=&quot;创建数据源对象&quot;&gt;&lt;a href=&quot;#创建数据源对象&quot; class=&quot;headerlink&quot; title=&quot;创建数据源对象&quot;&gt;&lt;/a&gt;创建数据源对象&lt;/h4&gt;&lt;p&gt;Spring内部提供了自己DataSource对象&lt;code&gt;DriverManagerDataSource&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;DriverManagerDataSource dataSource &amp;#x3D; new DriverManagerDataSource();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dataSource.setDriverClassName(&amp;quot;com.mysql.cj.jdbc.Driver&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dataSource.setUrl(&amp;quot;jdbc:mysql:&amp;#x2F;&amp;#x2F;localhost:3306&amp;#x2F;javatest?serverTimezone&amp;#x3D;UTC&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dataSource.setUsername(&amp;quot;root&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dataSource.setPassword(&amp;quot;123456&amp;quot;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;创建JDBCTemplate对象&quot;&gt;&lt;a href=&quot;#创建JDBCTemplate对象&quot; class=&quot;headerlink&quot; title=&quot;创建JDBCTemplate对象&quot;&gt;&lt;/a&gt;创建JDBCTemplate对象&lt;/h4&gt;&lt;p&gt;创建时需要把数据源注入倒jdbcTemplate中，然后就可以执行sql啦&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;JdbcTemplate jdbcTemplate &amp;#x3D; new JdbcTemplate();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;jdbcTemplate.setDataSource(dataSource);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;List&amp;lt;Account&amp;gt; accounts &amp;#x3D; jdbcTemplate.query(&amp;quot;select * from account&amp;quot;,new AccountRowMapper());&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;for(Account account:accounts)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    System.out.println(account);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h5 id=&quot;在执行查询的时候我们需要提供一个继承于RowMapper接口的实现类-用于封装结果对象&quot;&gt;&lt;a href=&quot;#在执行查询的时候我们需要提供一个继承于RowMapper接口的实现类-用于封装结果对象&quot; class=&quot;headerlink&quot; title=&quot;在执行查询的时候我们需要提供一个继承于RowMapper接口的实现类,用于封装结果对象&quot;&gt;&lt;/a&gt;在执行查询的时候我们需要提供一个继承于&lt;code&gt;RowMapper&lt;/code&gt;接口的实现类,用于封装结果对象&lt;/h5&gt;
    
    </summary>
    
    
      <category term="Spring" scheme="http://yoursite.com/categories/Spring/"/>
    
    
      <category term="学习" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>SpringBoot 配置文件</title>
    <link href="http://yoursite.com/2019/02/19/Spring%20Boot%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/"/>
    <id>http://yoursite.com/2019/02/19/Spring%20Boot%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/</id>
    <published>2019-02-19T04:40:58.000Z</published>
    <updated>2020-02-23T10:02:47.969Z</updated>
    
    <summary type="html">
    
      &lt;h1 id=&quot;配置文件&quot;&gt;&lt;a href=&quot;#配置文件&quot; class=&quot;headerlink&quot; title=&quot;配置文件&quot;&gt;&lt;/a&gt;配置文件&lt;/h1&gt;&lt;h2 id=&quot;1、配置文件&quot;&gt;&lt;a href=&quot;#1、配置文件&quot; class=&quot;headerlink&quot; title=&quot;1、配置文件&quot;&gt;&lt;/a&gt;1、配置文件&lt;/h2&gt;&lt;p&gt;SpringBoot使用一个全局的配置文件，配置文件名是固定的；&lt;/p&gt;
&lt;p&gt;•application.properties&lt;/p&gt;
&lt;p&gt;•application.yml&lt;/p&gt;
&lt;p&gt;配置文件的作用：修改SpringBoot自动配置的默认值；SpringBoot在底层都给我们自动配置好；&lt;/p&gt;
&lt;p&gt;YAML（YAML Ain’t Markup Language）&lt;/p&gt;
&lt;p&gt;​    YAML  A Markup Language：是一个标记语言&lt;/p&gt;
&lt;p&gt;​    YAML   isn’t Markup Language：不是一个标记语言；&lt;/p&gt;
&lt;p&gt;标记语言：&lt;/p&gt;
&lt;p&gt;​    以前的配置文件；大多都使用的是  &lt;strong&gt;xxxx.xml&lt;/strong&gt;文件；&lt;/p&gt;
&lt;p&gt;​    YAML：&lt;strong&gt;以数据为中心&lt;/strong&gt;，比json、xml等更适合做配置文件；&lt;/p&gt;
&lt;p&gt;​    YAML：配置例子&lt;/p&gt;
&lt;figure class=&quot;highlight yaml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;server:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attr&quot;&gt;port:&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;8081&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;​    XML：&lt;/p&gt;
&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;server&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;port&lt;/span&gt;&amp;gt;&lt;/span&gt;8081&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;port&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;server&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="Spring Boot" scheme="http://yoursite.com/categories/Spring-Boot/"/>
    
    
      <category term="学习" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="java" scheme="http://yoursite.com/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>Spring 事务管理</title>
    <link href="http://yoursite.com/2019/02/19/Spring%20%E4%BA%8B%E5%8A%A1%E7%AE%A1%E7%90%86/"/>
    <id>http://yoursite.com/2019/02/19/Spring%20%E4%BA%8B%E5%8A%A1%E7%AE%A1%E7%90%86/</id>
    <published>2019-02-19T04:40:58.000Z</published>
    <updated>2020-02-23T10:02:18.045Z</updated>
    
    <summary type="html">
    
      &lt;h3 id=&quot;Spring-事务控制我们要明确的&quot;&gt;&lt;a href=&quot;#Spring-事务控制我们要明确的&quot; class=&quot;headerlink&quot; title=&quot;Spring 事务控制我们要明确的&quot;&gt;&lt;/a&gt;Spring 事务控制我们要明确的&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;第一： JavaEE 体系进行分层开发，事务处理位于业务层，Spring提供了分层设计业务层的事务处理解决方案
第二： Spring框架为我们提供了一组事务控制的接口。在spring-tx-3.2.13.RELEASE.jar 中
第三：spring的事务控制都是基于AOP的，它既可以使用变成的方式的实现，也可以使用配置的方式实现&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&quot;Spring-中的三个核心接口&quot;&gt;&lt;a href=&quot;#Spring-中的三个核心接口&quot; class=&quot;headerlink&quot; title=&quot;Spring 中的三个核心接口&quot;&gt;&lt;/a&gt;Spring 中的三个核心接口&lt;/h3&gt;&lt;h4 id=&quot;1-PlatformTransactionManager&quot;&gt;&lt;a href=&quot;#1-PlatformTransactionManager&quot; class=&quot;headerlink&quot; title=&quot;1. PlatformTransactionManager&quot;&gt;&lt;/a&gt;1. PlatformTransactionManager&lt;/h4&gt;&lt;p&gt;PlatformTransactionManager 接口是 Spring 提供的平台事务管理器，用于管理事务。该接口中提供了三个事务操作方法，具体如下。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;TransactionStatus getTransaction（TransactionDefinition definition）&lt;/code&gt;用于获取事务状态信息。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;void commit（TransactionStatus status）&lt;/code&gt;用于提交事务。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;void rollback（TransactionStatus status）&lt;/code&gt;用于回滚事务。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;真正管理事务的对象&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;org.springframework.jdbc.datasource.DataSourceTransactionManager&lt;/code&gt;使用SpringJDBC或Mybatis进行持久化数据时使用&lt;/li&gt;
&lt;li&gt;&lt;code&gt;org.springframework.orm.hibernate5.HibernateTransactionManager&lt;/code&gt; 使用Hibernate版本进行持久化数据时使用&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
      <category term="Spring" scheme="http://yoursite.com/categories/Spring/"/>
    
    
      <category term="学习" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>Spring注解配置</title>
    <link href="http://yoursite.com/2019/02/19/Spring%20%E6%B3%A8%E8%A7%A3%E9%85%8D%E7%BD%AE/"/>
    <id>http://yoursite.com/2019/02/19/Spring%20%E6%B3%A8%E8%A7%A3%E9%85%8D%E7%BD%AE/</id>
    <published>2019-02-19T04:40:58.000Z</published>
    <updated>2020-02-23T10:02:29.064Z</updated>
    
    <summary type="html">
    
      &lt;h3 id=&quot;通过XML进行主配置&quot;&gt;&lt;a href=&quot;#通过XML进行主配置&quot; class=&quot;headerlink&quot; title=&quot;通过XML进行主配置&quot;&gt;&lt;/a&gt;通过XML进行主配置&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;?xml version&amp;#x3D;&amp;quot;1.0&amp;quot; encoding&amp;#x3D;&amp;quot;UTF-8&amp;quot;?&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;beans xmlns&amp;#x3D;&amp;quot;http:&amp;#x2F;&amp;#x2F;www.springframework.org&amp;#x2F;schema&amp;#x2F;beans&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    xmlns:xsi&amp;#x3D;&amp;quot;http:&amp;#x2F;&amp;#x2F;www.w3.org&amp;#x2F;2001&amp;#x2F;XMLSchema-instance&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    xmlns:context&amp;#x3D;&amp;quot;http:&amp;#x2F;&amp;#x2F;www.springframework.org&amp;#x2F;schema&amp;#x2F;context&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    xsi:schemaLocation&amp;#x3D;&amp;quot;http:&amp;#x2F;&amp;#x2F;www.springframework.org&amp;#x2F;schema&amp;#x2F;beans&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        https:&amp;#x2F;&amp;#x2F;www.springframework.org&amp;#x2F;schema&amp;#x2F;beans&amp;#x2F;spring-beans.xsd&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        http:&amp;#x2F;&amp;#x2F;www.springframework.org&amp;#x2F;schema&amp;#x2F;context&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        https:&amp;#x2F;&amp;#x2F;www.springframework.org&amp;#x2F;schema&amp;#x2F;context&amp;#x2F;spring-context.xsd&amp;quot;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;通过Java类作为主配置&quot;&gt;&lt;a href=&quot;#通过Java类作为主配置&quot; class=&quot;headerlink&quot; title=&quot;通过Java类作为主配置&quot;&gt;&lt;/a&gt;通过Java类作为主配置&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;@Configuration&lt;/code&gt; 指定当前类是一个配置类&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@ComponentScan&lt;/code&gt; 用于通过注解指定spring在创建容器时要扫描的包，通过&lt;code&gt;value&lt;/code&gt;属性指定创建容器时要扫描的包&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@Bean&lt;/code&gt; 用于把当前方法的返回值作为bean对象存入spring的ioc容器中，通过&lt;code&gt;name&lt;/code&gt;属性指定bean的id。不写时，默认值是当前方法的名称&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@Import&lt;/code&gt; 用于导入其他的配置类。当我们使用Import的注释之后，有Import注释的类就是父配置类，而导入的都是子配置类。&lt;code&gt;value&lt;/code&gt;:其他配置类的字节码。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@@EnableAspectJAutoProxy&lt;/code&gt; 开启注解AOP的支持&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@EnableTransactionManagement&lt;/code&gt; 开启Spring注解中事务的支持&lt;h4 id=&quot;多个配置文件时-扫描方法&quot;&gt;&lt;a href=&quot;#多个配置文件时-扫描方法&quot; class=&quot;headerlink&quot; title=&quot;多个配置文件时 扫描方法&quot;&gt;&lt;/a&gt;多个配置文件时 扫描方法&lt;/h4&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;通过创建容器对象时扫描加载&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;ApplicationContext context &amp;#x3D; new AnnotationConfigApplicationContext(SpringConfig.class,jdbcConfig.class);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
通过这种方式扫描，配置文件上面可以不写&lt;code&gt;@Configuration&lt;/code&gt;,不过这样加载两个配置将会是同级别的&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@ComponentScan&lt;/code&gt;扫描&lt;code&gt;@Configuration&lt;/code&gt; 加载&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;@ComponentScan(&amp;quot;cn.test&amp;quot;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;public class SpringConfig &amp;#123; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;@Configuration&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;public class jdbcConfig &amp;#123; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;ApplicationContext context &amp;#x3D; new AnnotationConfigApplicationContext(SpringConfig.class);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
通过主配置文件上的&lt;code&gt;@ComponenScan&lt;/code&gt;会自动扫描包下的配置文件&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
      <category term="Spring" scheme="http://yoursite.com/categories/Spring/"/>
    
    
      <category term="学习" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>Spring 整合Junit</title>
    <link href="http://yoursite.com/2019/02/19/Spring%20%E6%95%B4%E5%90%88Junit/"/>
    <id>http://yoursite.com/2019/02/19/Spring%20%E6%95%B4%E5%90%88Junit/</id>
    <published>2019-02-19T04:40:58.000Z</published>
    <updated>2020-02-23T09:48:48.789Z</updated>
    
    <summary type="html">
    
      
      
        
        
          &lt;ol&gt;
&lt;li&gt;导入spring整合junit的jar(坐标)(spring-test)&lt;/li&gt;
&lt;li&gt;使用Junit提供的&lt;code&gt;@Runwith&lt;/code&gt;注解把原有的main方法替换了，替换成spring提供的&lt;code&gt;SpringJunit4ClassRun
        
      
    
    </summary>
    
    
      <category term="Spring" scheme="http://yoursite.com/categories/Spring/"/>
    
    
      <category term="学习" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>事务管理（不使用spring）</title>
    <link href="http://yoursite.com/2019/02/19/%E4%BA%8B%E5%8A%A1%E7%AE%A1%E7%90%86%EF%BC%88%E4%B8%8D%E4%BD%BF%E7%94%A8spring%EF%BC%89/"/>
    <id>http://yoursite.com/2019/02/19/%E4%BA%8B%E5%8A%A1%E7%AE%A1%E7%90%86%EF%BC%88%E4%B8%8D%E4%BD%BF%E7%94%A8spring%EF%BC%89/</id>
    <published>2019-02-19T04:40:58.000Z</published>
    <updated>2020-02-23T10:01:51.979Z</updated>
    
    <summary type="html">
    
      &lt;p&gt;在开发中我们免不了要进行一些事务的存储。例如用户之间的转账&lt;/p&gt;
&lt;h5 id=&quot;数据表&quot;&gt;&lt;a href=&quot;#数据表&quot; class=&quot;headerlink&quot; title=&quot;数据表&quot;&gt;&lt;/a&gt;数据表&lt;/h5&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;id&lt;/th&gt;
&lt;th&gt;name&lt;/th&gt;
&lt;th&gt;money&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;张三&lt;/td&gt;
&lt;td&gt;1000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;李四&lt;/td&gt;
&lt;td&gt;1000&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;h4 id=&quot;1-编写Service层的事务接口&quot;&gt;&lt;a href=&quot;#1-编写Service层的事务接口&quot; class=&quot;headerlink&quot; title=&quot;1. 编写Service层的事务接口&quot;&gt;&lt;/a&gt;1. 编写Service层的事务接口&lt;/h4&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;@Override&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;public void transfer(int sourceId, int targetId, double money) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#x2F;&amp;#x2F;1.获取转出账户&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Account sourceAccount &amp;#x3D; accountDao.findOne(sourceId);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#x2F;&amp;#x2F;2. 获取转入账户&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Account targetAccount &amp;#x3D; accountDao.findOne(targetId);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#x2F;&amp;#x2F;3. 转出账户减钱&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        sourceAccount.setMoney(sourceAccount.getMoney()-money);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#x2F;&amp;#x2F;4. 转入账户加钱&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        targetAccount.setMoney(targetAccount.getMoney()+money);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#x2F;&amp;#x2F;5. 更新转出账户信息&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        accountDao.updateAccount(sourceAccount);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        int i &amp;#x3D;1&amp;#x2F;0;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#x2F;&amp;#x2F;6. 更新转入账户信息&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        accountDao.updateAccount(targetAccount);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;目前的Dao层是每执行一个方法，它都会重新创建一个连接执行sql语句，这样就导致如果中间出错了，出账用户信息保存，入账用户就会未保存。因此我们需要一个管理Connection的工具类，通过工具类来绑定Connection&lt;/p&gt;
    
    </summary>
    
    
      <category term="Spring" scheme="http://yoursite.com/categories/Spring/"/>
    
    
      <category term="学习" scheme="http://yoursite.com/tags/%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
</feed>
